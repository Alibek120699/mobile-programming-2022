{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { Component } from \"react\";\nimport { ActionTypes } from \"../actions/ActionTypes\";\nimport { users } from \"../storage/users\";\nimport { tracks } from \"../storage/tracks\";\nimport { notifications } from \"../storage/notifications\";\nvar initialState = {\n  friends: users.slice(0, 3),\n  tracks: tracks.slice(3, 8),\n  notifications: notifications\n};\nexport default function PlayerReducer() {\n  var storeData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ActionTypes.LOAD_TRACK:\n      return _objectSpread(_objectSpread({}, storeData), {}, _defineProperty({}, action.payload.dataType, action.payload.data));\n\n    case ActionTypes.LOAD_FRIEND:\n      return _objectSpread(_objectSpread({}, storeData), {}, {\n        friends: action.payload.data\n      });\n\n    case ActionTypes.LOAD_NOTIFICATION:\n      return _objectSpread(_objectSpread({}, storeData), {}, {\n        notification: action.payload.data\n      });\n\n    case ActionTypes.ADD_FRIEND:\n      var isExisting = storeData.friends.find(function (f) {\n        return f.id === action.payload.friend.id;\n      });\n      if (!isExisting) return _objectSpread(_objectSpread({}, storeData), {}, {\n        friends: [].concat(_toConsumableArray(storeData.friends), [action.payload.friend])\n      });\n      return storeData;\n\n    case ActionTypes.ADD_TRACK:\n      var existing = storeData.tracks.find(function (t) {\n        return t.id === action.payload.track.id;\n      });\n      if (!existing) return _objectSpread(_objectSpread({}, storeData), {}, {\n        tracks: [].concat(_toConsumableArray(storeData.tracks), [action.payload.track])\n      });\n      return storeData;\n\n    case ActionTypes.REMOVE_FRIEND:\n      return _objectSpread(_objectSpread({}, storeData), {}, {\n        friends: storeData.friends.filter(function (f) {\n          return f.id !== action.payload.friend.id;\n        })\n      });\n\n    case ActionTypes.REMOVE_TRACK:\n      return _objectSpread(_objectSpread({}, storeData), {}, {\n        tracks: storeData.tracks.filter(function (t) {\n          return t.id !== action.payload.track.id;\n        })\n      });\n\n    case ActionTypes.READ_NOTIFICATION:\n      return _objectSpread(_objectSpread({}, storeData), {}, {\n        notifications: storeData.notifications.filter(function (n) {\n          return n.id !== action.payload.notification.id;\n        })\n      });\n\n    default:\n      return storeData || {};\n  }\n}","map":{"version":3,"sources":["/Users/aleke/kbtu/mobile-programming/music-player/reducer/PlayerReducer.js"],"names":["React","Component","ActionTypes","users","tracks","notifications","initialState","friends","slice","PlayerReducer","storeData","action","type","LOAD_TRACK","payload","dataType","data","LOAD_FRIEND","LOAD_NOTIFICATION","notification","ADD_FRIEND","isExisting","find","f","id","friend","ADD_TRACK","existing","t","track","REMOVE_FRIEND","filter","REMOVE_TRACK","READ_NOTIFICATION","n"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n\tActionTypes\n} from \"../actions/ActionTypes\";\nimport { users } from \"../storage/users\";\nimport { tracks } from \"../storage/tracks\";\nimport { notifications } from \"../storage/notifications\";\n\n\n\nconst initialState = {\n\tfriends: users.slice(0, 3),\n\ttracks: tracks.slice(3, 8),\n\tnotifications,\n}\n\nexport default function PlayerReducer(storeData = initialState, action) {\n\tswitch(action.type){\n\t\tcase ActionTypes.LOAD_TRACK:\n\t\t\treturn {...storeData, [action.payload.dataType]: action.payload.data}\n\t\tcase ActionTypes.LOAD_FRIEND:\n\t\t\treturn {...storeData, friends: action.payload.data}\n\t\tcase ActionTypes.LOAD_NOTIFICATION:\n\t\t\treturn {...storeData, notification: action.payload.data}\n\t\tcase ActionTypes.ADD_FRIEND:\n\t\t\tconst isExisting = storeData.friends.find(f => f.id === action.payload.friend.id)\n\t\t\tif(!isExisting)\n\t\t\t\treturn {...storeData, friends: [...storeData.friends, action.payload.friend]}\n\t\t\treturn storeData\n\t\tcase ActionTypes.ADD_TRACK:\n\t\t\tconst existing = storeData.tracks.find(t => t.id === action.payload.track.id)\n\t\t\tif(!existing)\n\t\t\t\treturn {...storeData, tracks: [...storeData.tracks, action.payload.track]}\n\t\t\treturn storeData\n\t\tcase ActionTypes.REMOVE_FRIEND:\n\t\t\treturn {...storeData, friends: storeData.friends.filter(f => \n\t\t\t\tf.id !== action.payload.friend.id)}\n\t\tcase ActionTypes.REMOVE_TRACK:\n\t\t\treturn {...storeData, tracks: storeData.tracks.filter(t =>\n\t\t\t\tt.id !== action.payload.track.id)}\n\t\tcase ActionTypes.READ_NOTIFICATION:\n\t\t\treturn {...storeData, notifications: storeData.notifications.filter(n =>\n\t\t\t\tn.id !== action.payload.notification.id)}\n\t\tdefault:\n\t\t\treturn storeData || {}\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}